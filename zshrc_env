# Load plugins manually
ZSH_AUTOSUGGEST_CASE_SENSITIVE=false
ZSH_AUTOSUGGEST_USE_ASYNC=true        # async suggestions
ZSH_AUTOSUGGEST_STRATEGY=(history completion)  # control sources
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=0'

# Make filename completion ignore case
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'

# Completion colors - darker/more vivid for better visibility
zstyle ':completion:*:default' list-colors \
  'di=1;34' \
  'ln=1;36' \
  'so=1;35' \
  'pi=1;33' \
  'ex=1;32' \
  'bd=1;33;46' \
  'cd=1;33;43' \
  'su=37;41' \
  'sg=30;43' \
  'tw=30;42' \
  'ow=34;42'

# Apply colors to completion menu
zstyle ':completion:*' menu select
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}

# Export LS_COLORS for ls command and completion consistency
export LS_COLORS='di=1;34:ln=1;36:so=1;35:pi=1;33:ex=1;32:bd=1;33;46:cd=1;33;43:su=37;41:sg=30;43:tw=30;42:ow=34;42'

source ~/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
source ~/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source ~/.zsh/gitster.zsh-theme
# has to be the last one
source ~/.zsh/plugins/zsh-vi-mode/zsh-vi-mode.plugin.zsh
# Append a command directly
zvm_after_init_commands+=('[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh')
# --- Proper post-init hook ---

# ---- History configuration ----
# Path to the history file
export HISTFILE=~/.zsh_history

# How many commands to keep in memory and on disk
export HISTSIZE=100000
export SAVEHIST=100000

# Recommended history options
setopt APPEND_HISTORY             # append instead of overwrite
setopt SHARE_HISTORY              # share history across tabs
setopt HIST_IGNORE_DUPS           # ignore duplicate commands
setopt HIST_IGNORE_SPACE          # ignore commands starting with space
setopt HIST_VERIFY                # donâ€™t immediately execute recalled commands
setopt HIST_REDUCE_BLANKS         # remove extra spaces in commands
setopt EXTENDED_HISTORY            # adds timestamps
setopt INC_APPEND_HISTORY
